<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Kount Android Client</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous"/>

<link href="styles/navbar.css" rel="stylesheet"/>
<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
<link href="styles/customize.css" rel="stylesheet"/>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
  </head>

  <body>

    <div class="container">

      <!-- Static navbar -->
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <a class="navbar-brand" href="index.html">Kount</a>
          </div>
          <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a href="ios.html">iOS</a></li>
              <li class="active"><a href="#">Android</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div><!--/.container-fluid -->
      </nav>

      <!-- Main component for a primary marketing message or call to action -->
      <div class="container">
        <h1>Android Client SDK Setup</h1>
        <p>Kount's SDK for Android helps integrate Kount's fraud fighting solution into your Android app.</p>
        <h3>Requirements</h3>
        <ul>
          <li><a href="http://www.kount.com/fraud-detection-software">Kount integration</a></li>
          <li><a href="http://developer.android.com/sdk/index.html">Android Studio and Android SDK</a></li>
          <li>Target Android SDK >= 10</li>
        </ul>
        <h3>Installation</h3>
        
        <p>Download the <a href="https://github.com/Kount/kount-android-sdk">Kount Android SDK</a> and unzip the file in a folder separate from your project</p>
        <ul>
          <li>Copy the JAR file in the KountDataCollector folder into the <b>libs</b> folder of your app
        </ul>
        
        <h3>Initialization</h3>
        
        
        <p>To set up the data collector, you'll need to set the context, the merchant ID, configuration for location collection, and the Kount environment. While testing your integration you'll want to use the <i>Test</i> environment, switching to <i>Production</i> when your app is ready to release.</p>
        
        <h4>Setup</h4>
        <p>In the main activity of your app, add the following initialization:</p>
        <pre class="prettyprint">
import com.kount.api.DataCollector;
          
@Override
protected void onCreate(Bundle savedInstanceState) {
  ...
  DataCollector.getInstance().setContext(this);
  DataCollector.getInstance().setMerchantID(&lt;MERCHANT_ID&gt;);
  DataCollector.getInstance().setLocationCollectorConfig(DataCollector.LocationConfig.COLLECT);
  DataCollector.getInstance().setEnvironment(DataCollector.ENVIRONMENT_TEST);
  ...
}</pre>
        <h4>Location Permissions</h4>
        <p>For location collection support you'll need to add these permissions to your <b>AndroidManifest.xml</b> file:</p>
        
        <pre class="prettyprint">&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
&lt;uses-permission android:name="android.permission.ACCESS_WIFI_STATE" /&gt;
&lt;uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" /&gt;</pre>
        <p>For Android API >= 23, you'll also need to add permission requesting code to your main activity, similar to the following:</p>
        <pre class="prettyprint">...
if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {
  if (ActivityCompat.shouldShowRequestPermissionRationale(this, Manifest.permission.ACCESS_FINE_LOCATION)) {
    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, &lt;REQUEST_ID&gt;);
  } else {
    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, &lt;REQUEST_ID&gt;);
  }
}
...</pre>
        <h3>Collection</h3>
<p>Early in the checkout process you'll want to start the data collection with a unique session ID tied to the transaction, and collect once per unique session ID. For example, in the onCreate method of an activity early in your transaction workflow, add the following:</p>
        <pre class="prettyprint">
import com.kount.api.DataCollector;
            
@Override
protected void onCreate(Bundle savedInstanceState) {
  ...
  DataCollector.getInstance().collectForSession(sessionID, new DataCollector.CompletionHandler() {
   /* Add handler code here if desired. The handler is optional. */
    @Override
    public void completed(String sessionID) {
    }
    @Override
    public void failed(String sessionID, final DataCollector.Error error) {
    }
  });
  ...
}</pre>
        <h3 id="migrating">Migrating to version 3.x</h3>
        <p>The interface and workflow of the SDK has changed between version 2 and version 3. The old version would have you create an instance of the Data Collector, configure it, make a call to collect, and then implement the listener methods if you wished to receive feedback regarding the collection.</p>
        <p>With the new version, the Data Collector is implemented as a singleton and is configured when your main activity is created. The collect call is now a method on the Data Collector singleton and has an optional completion handler interface argument you can implement if you wish to get additional information on the collection. Here are the steps to upgrade to version 3.x:</p>
        <ul>
            <li>Remove the old library from your project and replace it with the new library.</li>
            <li>Remove the old initialization code and replace it with the new initialization code methods on the DataCollector singleton in your main activity.</li>
            <li>Remove the old call to collect and corresponding listener methods and replace it with the collect method on the DataCollector singleton, and optionally implement the completion handler interface.
                </ul>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
	 ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
      <script src="../../dist/js/bootstrap.min.js"></script>
      <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
      <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
